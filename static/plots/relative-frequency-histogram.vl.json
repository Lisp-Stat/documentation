{"data":{"url":"/data/relative-frequency-histogram-data.json"},"$schema":"https://vega.github.io/schema/vega-lite/v5.json","title":"Relative Frequency Histogram","transform":[{"bin":true,"field":"horsepower","as":["binHorsepower","binHorsepowerEnd"]},{"aggregate":[{"op":"count","as":"Count"}],"groupby":["binHorsepower","binHorsepowerEnd"]},{"joinaggregate":[{"op":"sum","field":"Count","as":"TotalCount"}]},{"calculate":"datum.Count/datum.TotalCount","as":"percentOfTotal"}],"mark":{"type":"bar","tooltip":true},"encoding":{"x":{"field":"binHorsepower","title":"Horsepower","bin":{"binned":true}},"x2":{"field":"binHorsepowerEnd"},"y":{"field":"percentOfTotal","type":"quantitative","title":"Relative Frequency","axis":{"format":".1~%"}}}}